{"version":3,"sources":["webpack:///webpack/bootstrap 3cf7b522e1987891455b","webpack:///./sass/main.jscss","webpack:///./sass/main.scss","webpack:///./src/main.ts","webpack:///./src/gameOfLife.ts","webpack:///./src/canvas.ts","webpack:///./src/options.ts","webpack:///./src/cells.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 3cf7b522e1987891455b","import style from './main.scss';\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./sass/main.jscss\n// module id = 1\n// module chunks = 0","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./sass/main.scss\n// module id = 2\n// module chunks = 0","/**\n * Create the game of life\n */\nimport { gameOfLife } from 'app/gameOfLife';\n\ngameOfLife(\n    [\n        { x: 20, y: 20 },\n        { x: 21, y: 20 },\n        { x: 22, y: 20 },\n        { x: 23, y: 20 },\n        { x: 24, y: 20 },\n        { x: 25, y: 20 },\n        { x: 26, y: 20 },\n        { x: 27, y: 20 },\n        { x: 28, y: 20 },\n        { x: 29, y: 20 },\n    ]\n);\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.ts","/**\n * Create the Game of Life\n */\n\nimport { canvasFactory, ICanvas } from 'app/canvas';\nimport { DEFAULT_OPTIONS, IOptions } from 'app/options';\nimport { cellRegistryFactory, ICell } from 'app/cells';\n\nexport const gameOfLife: (start?: ICell[], config?: Partial<IOptions>) => void = (start: ICell[] = [], config: Partial<IOptions> = {}): void => {\n    const options: IOptions = {...DEFAULT_OPTIONS, ...config};\n    const container: HTMLBodyElement = window.document.querySelector('body');\n    const canvas: ICanvas = canvasFactory.create({\n        container: container,\n        width: options.cellSize * options.horizontalCells,\n        height: options.cellSize * options.verticalCells\n    });\n    const cellRegistry = cellRegistryFactory.create({\n        cells: start\n    });\n    const next = window.document.createElement('button');\n    next.innerText = 'next';\n    container.appendChild(next);\n\n    function draw() {\n        canvas.clear();\n\n        canvas.context.fillStyle = options.backgroundColor;\n\n        for (let x = 0; x < options.horizontalCells; x += 1) {\n            for (let y = 0; y < options.verticalCells; y += 1) {\n                canvas.context.strokeRect(x * options.cellSize, y * options.cellSize, options.cellSize, options.cellSize);\n                canvas.context.fillRect(x * options.cellSize, y * options.cellSize, options.cellSize, options.cellSize);\n            }\n        }\n\n        canvas.context.fillStyle = options.foregroundColor;\n        canvas.context.strokeStyle = options.strokeColor;\n\n        for (const id in cellRegistry.get()) {\n            const cell: ICell = cellRegistry.findById(id);\n\n            canvas.context.strokeRect(cell.x * options.cellSize, cell.y * options.cellSize, options.cellSize, options.cellSize);\n            canvas.context.fillRect(cell.x * options.cellSize, cell.y * options.cellSize, options.cellSize, options.cellSize);\n        }\n    }\n\n    function show(x: number, y: number): boolean {\n        const count = cellRegistry.neighborCount(x, y);\n\n        if (cellRegistry.exists(x, y)) {\n            if (count === 2 || count == 3) {\n                return true;\n            }\n        } else if (count === 3) {\n            return true;\n        }\n\n        return false;\n    }\n\n    function redraw() {\n        const cells: ICell[] = [];\n\n        for (const id in cellRegistry.get()) {\n            const cell: ICell = cellRegistry.findById(id);\n            const surroundingCells:ICell[] = cellRegistry.surroundingCells(cell.x, cell.y);\n\n            surroundingCells.concat([cell]).forEach((cell: ICell): void => {\n                if (show(cell.x, cell.y)) {\n                    cells.push(cell);\n                }\n            });\n        }\n\n        cellRegistry.set(cells);\n\n        draw();\n    }\n\n    draw();\n\n    next.addEventListener('click', redraw);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/gameOfLife.ts","import { IFactory } from 'app/factory';\n\n/**\n * A simple canvas factory\n */\n\nexport interface ICanvas {\n    element: HTMLCanvasElement;\n    context: CanvasRenderingContext2D;\n    clear(): void;\n}\n\nexport interface ICanvasFactoryOptions {\n    container: HTMLElement;\n    width: number;\n    height: number;\n}\n\nexport const canvasFactory: IFactory<ICanvas, ICanvasFactoryOptions> = ((): IFactory<ICanvas, ICanvasFactoryOptions> => {\n    return {\n        create(options: ICanvasFactoryOptions): ICanvas {\n            const element: HTMLCanvasElement = window.document.createElement('canvas');\n            const context: CanvasRenderingContext2D = element.getContext('2d');\n\n            element.setAttribute('width', String(options.width));\n            element.setAttribute('height', String(options.height));\n\n            options.container.appendChild(element);\n\n            return {\n                element,\n                context,\n                clear(): void {\n                    context.clearRect(0, 0, options.width, options.height);\n                }\n            };\n        }\n    };\n})();\n\n\n\n// WEBPACK FOOTER //\n// ./src/canvas.ts","/**\n * OptionsInterface\n */\nexport interface IOptions {\n    backgroundColor: string;\n    cellSize: number;\n    delay: number;\n    foregroundColor: string;\n    horizontalCells: number;\n    strokeColor: string;\n    verticalCells: number;\n}\n\nexport const DEFAULT_OPTIONS: IOptions = {\n    backgroundColor: '#6E8898',\n    cellSize: 10,\n    delay: 500,\n    foregroundColor: '#D3D0CB',\n    horizontalCells: 60,\n    strokeColor: '#2E5266',\n    verticalCells: 60\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/options.ts","/**\n * Registry for cells\n */\n\nimport { IFactory } from 'app/factory';\n\nexport type CellCollection = {\n    [index: string]: ICell;\n};\n\nexport interface ICell {\n    x: number;\n    y: number;\n}\n\nexport interface ICellRegistry {\n    add(x: number, y: number): ICell;\n\n    remove(x: number, y: number): void;\n\n    find(x: number, y: number): ICell | undefined;\n\n    findById(id: string): ICell | undefined;\n\n    exists(x: number, y: number): boolean;\n\n    get(): CellCollection;\n\n    set(cells: ICell[]): void;\n\n    surroundingCells(x: number, y: number): ICell[];\n\n    neighborCount(x: number, y: number): number;\n}\n\nexport interface ICellRegistryFactoryOptions {\n    cells: ICell[];\n}\n\nexport const cellRegistryFactory: IFactory<ICellRegistry, ICellRegistryFactoryOptions> = ((): IFactory<ICellRegistry, ICellRegistryFactoryOptions> => {\n    return {\n        create(options: ICellRegistryFactoryOptions): ICellRegistry {\n            let store: CellCollection = {};\n\n            function id(x: number, y: number): string {\n                return `x${x}y${y}`;\n            }\n\n            const cellRegistry = {\n                add(x: number, y: number): ICell {\n                    if (this.exists(x, y)) {\n                        return;\n                    }\n\n                    const cell: ICell = {\n                        x,\n                        y\n                    };\n\n                    store[id(x, y)] = cell;\n\n                    return cell;\n                },\n\n                remove(x: number, y: number): void {\n                    delete store[id(x, y)];\n                },\n\n                find(x: number, y: number): ICell | undefined {\n                    return store[id(x, y)];\n                },\n\n                findById(id: string): ICell | undefined {\n                    return store[id];\n                },\n\n                exists(x: number, y: number): boolean {\n                    return this.find(x, y) !== undefined;\n                },\n\n                get(): CellCollection {\n                    return store;\n                },\n\n                set(cells: ICell[]) {\n                    store = {};\n\n                    cells.forEach((cell: ICell) => {\n                        this.add(cell.x, cell.y);\n                    });\n                },\n\n                surroundingCells(x: number, y: number): ICell[] {\n                    const top: number = y - 1;\n                    const bottom: number = y + 1;\n                    const right: number = x + 1;\n                    const left: number = x - 1;\n\n                    return [\n                        { x: left, y: top }, // left-top\n                        { x, y: top }, // top\n                        { x: right, y: top }, // right-top\n                        { x: right, y }, // right\n                        { x: right, y: bottom }, // right-bottom\n                        { x, y: bottom }, // bottom\n                        { x: left, y: bottom }, // left-bottom\n                        { x: left, y }, // left\n                    ];\n                },\n\n                neighborCount(x: number, y: number): number {\n                    const cells: ICell[] = this.surroundingCells(x, y);\n\n                    return cells.reduce((accumulator, neighbor) => {\n                        if (this.exists(neighbor.x, neighbor.y)) {\n                            return accumulator + 1;\n                        }\n\n                        return accumulator;\n                    }, 0);\n                }\n            };\n\n            cellRegistry.set(options.cells);\n\n            return cellRegistry;\n        }\n    };\n})();\n\n\n\n// WEBPACK FOOTER //\n// ./src/cells.ts"],"sourceRoot":""}